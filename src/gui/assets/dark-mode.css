/* Dark Mode Overrides */

/* 
   Target both the root element (html) and body.
   The attribute data-bs-theme="dark" is on <html>.
*/

html[data-bs-theme="dark"] body {
    background-color: #212529 !important;
    color: #e0e0e0 !important;
}

/* --- Cards --- */
html[data-bs-theme="dark"] .card {
    background-color: #2c3034 !important;
    border-color: #454d55 !important;
}
html[data-bs-theme="dark"] .card-header,
html[data-bs-theme="dark"] .card-footer {
    background-color: #343a40 !important;
    border-color: #454d55 !important;
    color: #fff !important;
}
html[data-bs-theme="dark"] .card-body {
    color: #e0e0e0 !important;
}

/* --- Labels & Typography --- */
html[data-bs-theme="dark"] label,
html[data-bs-theme="dark"] .form-label {
    color: #e0e0e0 !important;
}

/* --- Inputs (Text, Number) --- */
html[data-bs-theme="dark"] .form-control {
    background-color: #2b3035 !important;
    border-color: #495057 !important;
    color: #fff !important;
}
html[data-bs-theme="dark"] .form-control:focus {
    background-color: #2b3035 !important;
    border-color: #86b7fe !important;
    color: #fff !important;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
}
html[data-bs-theme="dark"] .form-control::placeholder {
    color: #adb5bd !important;
}

/* --- NEW DASH SLIDER (dcc.Slider) OVERRIDES --- */

/* Rail/Track Background (Grey part) */
html[data-bs-theme="dark"] .dash-slider-rail,
html[data-bs-theme="dark"] .rc-slider-rail {
    background-color: #495057 !important;
}

/* Active Track/Range (Blue part) */
html[data-bs-theme="dark"] .dash-slider-track, /* Sometimes dash track is the rail, sometimes active */
html[data-bs-theme="dark"] .dash-slider-range,
html[data-bs-theme="dark"] .rc-slider-track {
    background-color: #375a7f !important;
}

/* Thumb/Handle (Knob) */
html[data-bs-theme="dark"] .dash-slider-thumb,
html[data-bs-theme="dark"] .rc-slider-handle {
    border-color: #375a7f !important;
    background-color: #212529 !important;
    box-shadow: none !important;
}
html[data-bs-theme="dark"] .dash-slider-thumb:hover,
html[data-bs-theme="dark"] .rc-slider-handle:hover {
    border-color: #80bdff !important;
}

/* Marks (Labels 0, 1, 90...) */
html[data-bs-theme="dark"] .dash-slider-mark,
html[data-bs-theme="dark"] .rc-slider-mark-text {
    color: #dee2e6 !important; /* Lighter grey for visibility */
}

/* Tooltips */
html[data-bs-theme="dark"] .dash-slider-tooltip,
html[data-bs-theme="dark"] .rc-slider-tooltip-inner {
    background-color: #343a40 !important;
    color: #fff !important;
    border: 1px solid #6c757d !important;
    box-shadow: 0 2px 4px rgba(0,0,0,0.5) !important;
}

/* Input boxes next to ranges if visible */
html[data-bs-theme="dark"] .dash-input-container input {
    color: #fff !important;
    background-color: #2b3035 !important;
    border: 1px solid #495057 !important;
}

/* --- Buttons --- */
html[data-bs-theme="dark"] .btn-outline-secondary {
    color: #ced4da !important;
    border-color: #6c757d !important;
}
html[data-bs-theme="dark"] .btn-outline-secondary:hover {
    background-color: #6c757d !important;
    color: #fff !important;
}

/* --- Accordion (Advanced Params) --- */
html[data-bs-theme="dark"] .accordion-button {
    background-color: #343a40 !important;
    color: #fff !important;
}
html[data-bs-theme="dark"] .accordion-button:not(.collapsed) {
    background-color: #2c3e50 !important;
    color: #fff !important;
}
html[data-bs-theme="dark"] .accordion-body {
    background-color: #2c3034 !important;
    color: #e0e0e0 !important;
}
